{
  "name": "Helicopterizer",
  "tagline": "Solution in Backup and Restore for Docker Container in the Cloud Providers!",
  "body": "# Helicopterizer\r\n\r\n#### Open Source Solution in Backup and Restore for Docker Container in the Cloud Providers!\r\n\r\n[![Helicopterizer Image][HelicopterizerImage]][website] \r\n\r\n[![ImageLayers](https://badge.imagelayers.io/frekele/helicopterizer:latest.svg)](https://imagelayers.io/?images=frekele/helicopterizer:latest)\r\n\r\n[![Gitter](https://badges.gitter.im/frekele/helicopterizer.svg)](https://gitter.im/frekele/helicopterizer?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\r\n[![Docker Pulls](https://img.shields.io/docker/pulls/frekele/helicopterizer.svg)](https://hub.docker.com/r/frekele/helicopterizer/)\r\n[![Docker Stars](https://img.shields.io/docker/stars/frekele/helicopterizer.svg)](https://hub.docker.com/r/frekele/helicopterizer/)\r\n[![Release](https://img.shields.io/github/release/frekele/helicopterizer.svg)](https://github.com/frekele/helicopterizer/releases/latest)\r\n\r\n[![Circle CI](https://circleci.com/gh/frekele/helicopterizer/tree/master.svg?style=shield)](https://circleci.com/gh/frekele/helicopterizer/tree/master)\r\n[![Build Status](https://travis-ci.org/frekele/helicopterizer.svg?branch=master)](https://travis-ci.org/frekele/helicopterizer)\r\n[![GitHub issues](https://img.shields.io/github/issues/frekele/helicopterizer.svg)](https://github.com/frekele/helicopterizer/issues)\r\n[![GitHub forks](https://img.shields.io/github/forks/frekele/helicopterizer.svg)](https://github.com/frekele/helicopterizer/network) \r\n[![GitHub stars](https://img.shields.io/github/stars/frekele/helicopterizer.svg)](https://github.com/frekele/helicopterizer/stargazers)\r\n[![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://raw.githubusercontent.com/frekele/helicopterizer/master/LICENSE)\r\n\r\n\r\n\r\n## Backup and Restore for Docker Container\r\n\r\n#### Open Source Solution in Backup and Restore for Docker Container in the Cloud Providers!\r\n\r\n\r\n### Usage:\r\n\r\n  ```\r\n  docker run -d [Environment Variables] [-v|--volumes-from] frekele/helicopterizer [backup|restore]\r\n  ```\r\n\r\n\r\n#### Cloud Storage Provider Supported:\r\n| Provider                                    | Variable Value  | Supported                         |\r\n| ------------------------------------------- | --------------- | --------------------------------- |\r\n| Amazon Simple Storage Service (S3)          | AWS             | yes                               |\r\n| Microsoft Azure Storage                     | AZURE           | no - Planned for the future       |\r\n| Google Cloud Storage                        | GOOGLE          | no - Planned for the future       |\r\n| Rackspace Storage                           | RACKSPACE       | no - Planned for the future       |\r\n| IBM SoftLayer Storage                       | SOFTLAYER       | no - Planned for the future       |\r\n| Oracle Cloud Storage                        | ORACLE          | no - Planned for the future       |\r\n| OpenStack Swift Storage (Open source)       | OPENSTACK       | no - Planned for the future       |\r\n| Minio Storage (Open source)                 | MINIO           | no - Planned for the future       |\r\n\r\n\r\n\r\n#### Environment Variables:\r\n| Variable Name                   | Default             | Action                | Required  | Description                                                     |\r\n| ------------------------------- | ------------------- | --------------------- | --------- | --------------------------------------------------------------- |\r\n| STORAGE_PROVIDER                | null                | backup,restore        | yes       | Provider name (AWS, AZURE, GOOGLE, RACKSPACE, SOFTLAYER)        |\r\n| BACKUP_NAME                     | null                | backup,restore        | no        | Backup name using: $(BACKUP_NAME)-$(BACKUP_VERSION).tar.gz      |\r\n| DATA_PATH                       | /data/              | backup,restore        | no        | Data path : /data/(your files)                                  |\r\n| GZIP_COMPRESSION                | true                | backup,restore        | no        | Boolean to indicate the compression of the file .tar to .tar.gz |\r\n| CLEAN_DATA_BEFORE_RESTORE       | false               | restore               | no        | Boolean to indicate the compression of the file .tar to .tar.gz |\r\n| BACKUP_VERSION                  | null                | restore               | yes       | Backup version using: $(BACKUP_VERSION).tar.gz                  |\r\n| CRON_SCHEDULE                   | null                | backup,restore        | no        | Cron Job Scheduler, Eg: (*/15 * * * *) run every 15 minutes     |\r\n\r\n\r\n\r\n#### Environment Variables for AWS S3:\r\n| Variable Name                   | Default             | Action                | Required  | Description                                                      |\r\n| ------------------------------- | ------------------- | --------------------- | --------- | ---------------------------------------------------------------- |\r\n| AWS_ACCESS_KEY_ID               | null                | backup,restore        | yes       | AWS access key. Eg: AKRJPMI3QYCARJCRF4VF                         |\r\n| AWS_SECRET_ACCESS_KEY           | null                | backup,restore        | yes       | AWS secret key. Eg: VCsrO7aVulGuiUdXbS31jtQA4iRTVgi4scftJAJr     |\r\n| AWS_S3_BUCKET_NAME              | null                | backup,restore        | yes       | S3 bucket name. Eg: s3://my-bucket-backup/                       |\r\n| AWS_S3_PATH                     | /                   | backup,restore        | no        | Relative path for bucket S3. Eg: (AWS_S3_BUCKET_NAME)/jenkins/   |\r\n| AWS_DEFAULT_REGION              | us-east-1           | backup,restore        | no        | Default region bucket. Eg: (sa-east-1)                           |\r\n\r\n\r\n\r\n####  AWS S3 Regions:\r\nRegion Name            | Description the Region                    |\r\n---------------------- | ------------------------------------------|\r\nus-east-1              | US East (Virginia)                        |\r\nus-west-1              | US West (N. California)                   |\r\nus-west-2              | US West (Oregon)                          |\r\neu-west-1              | EU West (Ireland)                         |\r\neu-central-1           | EU Central (Frankfurt)                    |\r\nap-northeast-1         | Asia Pacific (Tokyo)                      |\r\nap-northeast-2         | Asia Pacific (Seoul)                      |\r\nap-southeast-1         | Asia Pacific (Singapore)                  |\r\nap-southeast-2         | Asia Pacific (Sydney)                     |\r\nsa-east-1              | South America (Sao Paulo)                 |\r\nus-gov-west-1          | US GovCloud West (Oregon)                 |\r\n\r\n\r\n\r\n### Usage Examples:\r\n\r\nRun Backup:\r\n```\r\ndocker run --rm \\\r\n-e STORAGE_PROVIDER=AWS \\\r\n-e AWS_ACCESS_KEY_ID=XXXXXXXXXXXXX \\\r\n-e AWS_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX \\\r\n-e AWS_S3_BUCKET_NAME=s3://my-bucket-backup/ \\\r\n-v /home/jenkins-data:/data:ro \\\r\nhelicopterizer backup\r\n```\r\n\r\n *Use ':ro' to mount the volumes in read-only mode.*\r\n\r\nRun Restore:\r\n```\r\ndocker run --rm \\\r\n-e STORAGE_PROVIDER=AWS \\\r\n-e AWS_ACCESS_KEY_ID=XXXXXXXXXXXXX \\\r\n-e AWS_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX \\\r\n-e AWS_S3_BUCKET_NAME=s3://my-bucket-backup/ \\\r\n-e BACKUP_VERSION=2016-04-17T00:34:20Z \\\r\n-v /home/jenkins-data:/data:rw \\\r\nhelicopterizer restore\r\n```\r\n *Use ':rw' to mount the volumes in read-write mode.*\r\n \r\n \r\nRun [Backup|Restore] with environment file:\r\n```\r\ntouch ~/helicopterizer.conf\r\n##################################\r\n# Set Your Environment Variables:\r\n##################################\r\nSTORAGE_PROVIDER=AWS\r\nBACKUP_NAME=my-backup-name\r\nDATA_PATH=/data/\r\nGZIP_COMPRESSION=true\r\nCLEAN_DATA_BEFORE_RESTORE=false\r\nBACKUP_VERSION=date-time-z\r\nAWS_ACCESS_KEY_ID=XXXXXXXXXXXXX\r\nAWS_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\nAWS_S3_BUCKET_NAME=s3://my-bucket-backup/\r\nAWS_S3_PATH=/\r\nAWS_DEFAULT_REGION=us-east-1\r\n##################################\r\n.\r\ndocker run --rm \\\r\n--env-file ~/helicopterizer.conf \\\r\n-v /home/jenkins-data:/data \\\r\nhelicopterizer [backup|restore]\r\n```\r\n\r\nRun [Backup|Restore] with data volume container:\r\n```\r\ndocker run --rm \\\r\n........\r\n-e DATA_PATH=/var/jenkins_home/ \\\r\n--volumes-from jenkins-data \\\r\nhelicopterizer [backup|restore]\r\n```\r\n\r\nRun [Backup|Restore] with Cron Job Scheduler:\r\n\r\n```\r\ndocker run -d \\\r\n........\r\n-e CRON_SCHEDULE='30 4 * * *' \\\r\nhelicopterizer [backup|restore]\r\n\r\n#####################################################\r\n######### Examples Cron Job Scheduler Usage #########\r\n#####################################################\r\n- CRON_SCHEDULE='30 4 * * *' - Runs every day at 04:30;\r\n- CRON_SCHEDULE='*/15 * * * *' - Runs every 15 Minutes;\r\n- CRON_SCHEDULE='0 */5 * * *' - Runs every 5 Hours;\r\n- CRON_SCHEDULE='0 */12 * * *' - Runs every 12 Hours;\r\n- CRON_SCHEDULE='0 */32 * * *' - Runs every 32 Hours;\r\n- CRON_SCHEDULE='0 0 */2 * *' - Runs every 2 Days;\r\n- CRON_SCHEDULE='0 0 */7 * *' - Runs every 7 Days;\r\n- CRON_SCHEDULE='0 0 0 */2 *' - Runs every 2 Months;\r\n- CRON_SCHEDULE='@monthly' - Run once a Month, the same as: '0 0 1 * *';\r\n- CRON_SCHEDULE='@weekly' - Run once a Week, the same as: '0 0 * * 0';\r\n- CRON_SCHEDULE='@daily' - Run once a Day, the same as: '0 0 * * *';\r\n- CRON_SCHEDULE='@midnight' - Run once a Day, the same as: '0 0 * * *' and @daily;\r\n- CRON_SCHEDULE='@hourly' - Run once a Hour, the same as: '0 * * * *';\r\n```\r\n More info to usage: [Cron Wiki].\r\n\r\n\r\nRun [Backup|Restore] with prefix name *$(BACKUP_NAME)-$(BACKUP_VERSION).tar.gz*:\r\n```\r\ndocker run --rm \\\r\n........\r\n-e BACKUP_NAME=my-backup-name \\\r\nhelicopterizer [backup|restore]\r\n```\r\n\r\nRun [Backup|Restore] without gzip compression:\r\n```\r\ndocker run --rm \\\r\n........\r\n-e GZIP_COMPRESSION=false \\\r\nhelicopterizer [backup|restore]\r\n```\r\n\r\nRun With clean the date before the restore:\r\n\r\n***[Be careful here, you will lose all your data inside DATA_PATH directory].***\r\n```\r\ndocker run --rm \\\r\n........\r\n-e CLEAN_DATA_BEFORE_RESTORE=true \\\r\nhelicopterizer restore\r\n```\r\n\r\nRun [Backup|Restore] with other data path:\r\n```\r\ndocker run --rm \\\r\n........\r\n-e DATA_PATH=/other-data-directory/ \\\r\n-v /home/jenkins-data:/jenkins-data \\\r\nhelicopterizer [backup|restore]\r\n```\r\n\r\nRun [Backup|Restore] with other AWS Region:\r\n```\r\ndocker run --rm \\\r\n........\r\n-e AWS_DEFAULT_REGION=sa-east-1 \\\r\nhelicopterizer [backup|restore]\r\n```\r\n\r\nRun [Backup|Restore] with subdirectories in AWS S3:\r\n```\r\ndocker run --rm \\\r\n........\r\n-e AWS_S3_PATH=/project-alpha/nexus/ \\\r\nhelicopterizer [backup|restore]\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Working with Persistent Data:\r\n\r\nThere are two general approaches to handling persistent storage requirements with Docker.\r\nSee [Managing Data in Containers](https://docs.docker.com/userguide/dockervolumes/) for additional information.\r\n\r\n#### Data volume container\r\n  \r\n*Use a data volume container*. Since data volumes are persistent until no containers use them, a container can created specifically for this purpose.  \r\n\r\n*Example with Jenkins:* \r\n       \r\n```     \r\ndocker run -d --name jenkins-data jenkinsci/jenkins:2.0 echo \"data-only container for Jenkins\"\r\ndocker run -d -p 8080:8080 -p 50000:50000 --name jenkins --volumes-from jenkins-data jenkinsci/jenkins:2.0\r\n```\r\n    \r\n    \r\n*Example with Nexus:*    \r\n    \r\n```\r\ndocker run -d --name nexus-data sonatype/nexus3 echo \"data-only container for Nexus\"\r\ndocker run -d -p 8081:8081 --name nexus --volumes-from nexus-data sonatype/nexus3\r\n```\r\n \r\n#### Data volume\r\n\r\n*Mount a host directory as the volume*.  This is not portable, as it relies on the directory existing with correct permissions on the host.\r\nHowever it can be useful in certain situations where this volume needs to be assigned to certain specific underlying storage.  \r\n\r\n*Example with Jenkins:*\r\n\r\n```\r\nmkdir /home/jenkins-data\r\ndocker run -d -p 8080:8080 -p 50000:50000 --name jenkins -v /home/jenkins-data:/jenkins-data jenkinsci/jenkins:2.0\r\n```\r\n\r\n*Example with Nexus:*\r\n\r\n```\r\nmkdir /home/nexus-data && chown -R 200 /home/nexus-data\r\ndocker run -d -p 8081:8081 --name nexus -v /home/nexus-data:/nexus-data sonatype/nexus3\r\n```\r\n\r\n\r\n\r\n### Building:\r\n\r\n  Build with the usual\r\n  \r\n    docker build -t helicopterizer .\r\n  \r\n  Tests are written using [bats](https://github.com/sstephenson/bats) under the `tests` dir\r\n  \r\n    bats tests\r\n \r\n  \r\n\r\n### License:\r\nHelicopterizer is **licensed** under the **[MIT License]**. The terms of the license are as follows:\r\n\r\n    The MIT License (MIT)\r\n    \r\n    Copyright (c) 2016 Leandro Kersting de Freitas\r\n    \r\n    Permission is hereby granted, free of charge, to any person obtaining a copy\r\n    of this software and associated documentation files (the \"Software\"), to deal\r\n    in the Software without restriction, including without limitation the rights\r\n    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n    copies of the Software, and to permit persons to whom the Software is\r\n    furnished to do so, subject to the following conditions:\r\n    \r\n    The above copyright notice and this permission notice shall be included in all\r\n    copies or substantial portions of the Software.\r\n    \r\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n    SOFTWARE.\r\n\r\n\r\n\r\n\r\n\r\n\r\n[HelicopterizerImage]: https://raw.githubusercontent.com/frekele/helicopterizer/master/docs/static_files/logo.png\r\n[MIT License]: https://raw.githubusercontent.com/frekele/helicopterizer/master/LICENSE\r\n[GitHub]: https://github.com/frekele/helicopterizer\r\n[website]: https://github.com/frekele/helicopterizer/\r\n[Docker HUB]: https://hub.docker.com/r/frekele/helicopterizer/\r\n[Cron Wiki]: https://en.wikipedia.org/wiki/Cron\r\n\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}